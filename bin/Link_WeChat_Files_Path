#!/bin/sh
#设置QQ用户目录
#WECHAT_SOURCE_PATH 源地址
#WECHAT_DESTINATION_PATH 目的地址
#脚本会删除源地址的WECHAT目录，并将目的地址软链到源地址，请做好备份!
WECHAT_SOURCE_PATH='/Users/semoz/Library/Containers/com.tencent.xinWeChat/Data/Library/Application Support/com.tencent.xinWeChat'
WECHAT_DESTINATION_PATH='/Volumes/Mac_Data/UserData/WeChat'

link_wechat_path () {
if [ -d "$WECHAT_SOURCE_PATH" ]; then
	rm -rf "$WECHAT_SOURCE_PATH"
	# 删不掉的话只能用强制删除了
	#rm -rf "$WECHAT_SOURCE_PATH"
	sudo ln -s -f "$WECHAT_DESTINATION_PATH" "$WECHAT_SOURCE_PATH"
else 
	echo "Wechat file not exist ~ quit!"
fi
#open '/Users/semoz/Library/Containers/com.tencent.xinWeChat/Data/Library/Application\ Support'
}

yes_or_no() {  
    echo "this script will delete Wechat source path, please backup!"  
   while true  
   do  
    echo "Enter yes or no : "  
   read x  
   case "$x" in   
   y|yes ) return 0;;  
   n|no  ) return 1;;  
   * ) echo "Answer yes or no!"  
   esac  
   done   
}  

if yes_or_no "$1"   
then   
  link_wechat_path
else  
  echo "goodbye"  
fi   
exit 0 